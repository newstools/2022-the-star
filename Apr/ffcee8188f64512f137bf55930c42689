A Ukrainian marine commander in Mariupol has made what he described as his troops' "last address to the world" as they try to resist overwhelming Russian forces in the city. They were outnumbered and running out of supplies, Major Serhiy Volyna said. A Russian deadline for the surrender of Ukrainian forces has passed with no sign that the troops have complied. The last holdouts are sheltering in the city's huge Azovstal steel plant, reportedly with 1,000 civilians. Kyiv said there was a tentative deal to rescue some civilians from the city. The city's mayor, Vadym Boichenko, told national TV that Ukraine had hoped to send 90 buses to evacuate about 6,000 people on Wednesday. He said around 100,000 people are trapped in Mariupol. However, regional governor Pavlo Kyrylenko subsequently said that fewer buses than planned were able to reach trapped civilians and not many were evacuated. "People of course gathered at the agreed meeting points, but few of them got onto the buses," he told Reuters news agency without giving specific figures. The Azovstal Iron and Steel Works - a massive, four sq-mile (10 sq km) plant in the south-east of the city - has become the last centre of the Ukrainian resistance in Mariupol. It is unclear how many Ukrainian troops remain in the city, but in a video message sent to the BBC, Maj Volyna, said around 500 injured troops were being cared for at the steel plant. Maj Volyna, who leads the 36th marine battalion, said his troops were running low on supplies and that the video marked "our last address to the world. It may be our last one ever". He said that Russian forces outnumbered his own by "dozens of times," and that while Ukrainian morale remains high, Moscow's forces "prevail in the air, in artillery, in ground troops, and in machines and tanks". As Russian forces advanced slowly into the heart of Mariupol, the sprawling Azovstal complex became a home to thousands of Ukrainian soldiers, including fighters from the Azov battalion - a controversial national guard unit with links to the far-right. The site is a mass of tunnels and workshops, and provides a natural advantage to defenders. Yan Gagin, an official with the separatist Donetsk People's Republic, told Russian state news network RIA Novosti over the weekend that there is "basically another city" beneath the plant. Russia has been bombarding the factory with artillery and air raids, and Moscow has issued two demands for the troops to surrender. An advisor to President Volodymyr Zelensky said Russia is targeting the defenders with bunker busters - colossal bombs designed to penetrate thick armour and kill targets underground. This is the second ultimatum Ukrainian troops at the plant have faced this week. Despite this, and the vicious nature of the Russian siege, Ukraine's defence ministry said not a single soldier surrendered when a similar ultimatum lapsed on Monday. Deputy Mayor Orlov warned that basic supplies at the plant have almost run out. "They have an absolute lack of everything. A lack of water, food, medicines, help, and Russia totally blocks everything, any humanitarian help or evacuation," he told the BBC's Newshour programme. Olena Nikulina's cousin is fighting with Ukrainian forces in Mariupol. She said her last contact with him had been on 8 March when he told her his unit had "very little food and medical supplies - and it's harder and harder to treat wounded soldiers". Ukrainian officials say around 100,000 civilians remain in the city, which has been almost totally levelled by the Russian bombardment. Several previous attempts to organise humanitarian corridors from the city have failed, with both Russia and Ukraine accusing each other of bad faith in negotiations and refusals to guarantee compliance with ceasefires. But Ms Vereshchuk said Moscow has agreed to allow 6,000 people to evacuate the city on Wednesday. Ukraine has previously alleged that Russia has been forcibly evacuating thousands of Ukrainian civilians from the city into Russia. US defence officials said on Tuesday that around 76 battalion tactical groups - combined Russian armour, infantry and air defence units - are operating inside Ukraine, with around 12 of these focused on the assault in Mariupol. If the city were to fall it would free up around 10,000 troops to take part in the refocused Russian assault on the Donbas region, and allow Moscow to link up its forces on the annexed Crimean Peninsula with separatist forces in the east. If Mariupol was seized, Russia would also end up with full control of the Sea of Azov, cutting off its maritime trade and further isolating it from the world. The fall of Mariupol would also offer President Vladimir Putin a major propaganda opportunity. His forces have only captured one major Ukrainian city - Kherson - and seizing Mariupol would enable the Kremlin to show its population that Russia was achieving its aims and making progress. Capturing the Azov battalion would also allow Mr Putin to play into his baseless narrative that the Ukrainian government has been overrun by "Nazis".